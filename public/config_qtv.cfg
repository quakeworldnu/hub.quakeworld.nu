// init
echo "########################## config_qtv.cfg ##########################"
cfg_reset
unbindall


// system
gamedir qw
cl_yieldcpu 1
cl_download_mapsrc "https://a.quake.world/maps/"


// input
in_windowed_mouse 0


// console and text
con_textsize 10
con_timestamps 0
gl_font povo5f_xtm
vid_conautoscale 0


// view
r_drawviewmodel 0.6
r_viewmodel_fov 100
fov 110


// sound
s_ambientfade 0
s_ambientlevel 0
snd_samplebits 32   // Browser native float audio
volume 0


// graphics
cl_truelightning 1
r_particledesc "classic blood explosion flame grenade rocket runes torch"

r_wateralpha 0.7
r_lavaalpha 0.7
r_slimealpha 0.7
r_telealpha 0.7

gl_flashblend 0
gl_polyblend 0
cl_muzzleflash 0
v_contentblend 0

gl_specular 0
vid_srgb -1
r_hdr_framebuffer 0
r_hdr_irisadaption 0
r_dynamic 1
r_shadow_realtime_dlight 0
r_shadow_realtime_world 0
r_deluxemapping 0
v_powerupshell 0.15
r_waterwarp 0

r_novis 1 // in contrast to ezq, no perf hit

// no smearing of map nor UI textures
gl_texturemode2d gl_nearest
gl_texturemode gl_nearest_mipmap_linear

// Tune brightness, not done
v_gamma 0.9
v_contrast 1.1
v_contrastboost 1.2
r_lightstylescale 2
cl_gibfilter 0
cl_deadbodyfilter 1


// misc
cl_bobup 0
cl_rollangle 0
v_kickroll 0
v_kickpitch 0
cl_maxfps_slop 0    // Fixes bad playback pace


// scoreboard
scr_scoreboard_fillalpha 1
scr_scoreboard_drawtitle 1
scr_scoreboard_showfrags 1


// tracker
r_tracker_frags 2
r_tracker_lines 10
r_tracker_time 8
r_tracker_x 0.01
msg_filter_frags 1


// crosshair
crosshairimage xtm_dot
crosshaircolor 0 255 0
crosshairsize 4


// activate ezhud plugin
plug_sbar 1


// skins
r_fullbrightSkins 0
enemyskin enemy
teamskin team


// teamplay
set tp_name_sg      ""
set tp_name_ssg     "&c999ssg"
set tp_name_ng      ""
set tp_name_sng     "&c999sng"
set tp_name_gl      "gl"
set tp_name_rl      "&cf60rl"
set tp_name_lg      "&c0fflg"
set tp_name_rlg     "&cf60rl&c0ffg"
set tp_name_ring    "&cff0ring"
set tp_name_quad    "&c00fquad"
set tp_name_pent    "&cf00pent"
set tp_name_ga      "&c0f0ga"
set tp_name_ya      "&cff0ya"
set tp_name_ra      "&cf00ra"
set tp_name_mh      "&c00fmh"


// HUD
// source: https://github.com/vikpe/qw-streambot-ezquake/blob/main/ezquake/configs/streambot.cfg
set _fte_margin 12
set_calc _fte_nmargin $_fte_margin*-1
set _fte_weapon_scale 1.5

//MQWCL HUD
hud_ammo1_show                        "0"
hud_ammo2_show                        "0"
hud_ammo3_align_x                     "after"
hud_ammo3_align_y                     "center"
hud_ammo3_place                       "iammo3"
hud_ammo3_pos_x                       "2"
hud_ammo3_show                        "1"
hud_ammo3_style                       "1"
hud_ammo4_align_x                     "after"
hud_ammo4_align_y                     "center"
hud_ammo4_place                       "iammo4"
hud_ammo4_pos_x                       "2"
hud_ammo4_show                        "1"
hud_ammo4_style                       "1"
hud_ammo_order                        "6582"
hud_ammo_place                        "iammo"
hud_ammo_pos_x                        "4"
hud_ammo_scale                        "1"
hud_armor_align_x                     "after"
hud_armor_order                       "295"
hud_armor_pent_666                    "0"
hud_armor_place                       "iarmor"
hud_armor_pos_x                       "2"
hud_armor_scale                       "1"
hud_democlock_show                    "0"
hud_face_align_x                      "after"
hud_face_align_y                      "top"
hud_face_order                        "296"
hud_face_place                        "armor"
hud_face_pos_x                        "16"
hud_fps_align_x                       "left"
hud_fps_align_y                       "bottom"
hud_fps_place                         "screen"
hud_fps_pos_x                         "8"
hud_fps_pos_y                         "-48"
hud_fps_scale                         "1"
hud_fps_show                          "0"
hud_gameclock_show                    "0"
hud_group1_align_x                    "center"
hud_group1_align_y                    "bottom"
hud_group1_frame                      "0"
hud_group1_height                     "18"
hud_group1_pos_y                      $_fte_nmargin
hud_group1_show                       "1"
hud_group1_width                      "330"
hud_group2_align_y                    "before"
hud_group2_frame                      "0"
hud_group2_height                     "8"
hud_group2_order                      "1"
hud_group2_place                      "tracking"
hud_group2_pos_y                      $_fte_nmargin
hud_group2_show                       "1"
hud_group2_width                      "128"
hud_group3_align_x                    "center"
hud_group3_align_y                    "before"
hud_group3_frame                      "0"
hud_group3_height                     "32"
hud_group3_place                      "group1"
hud_group3_pos_y                      $_fte_nmargin
hud_group3_show                       "1"
hud_gun2_show                         "0"
hud_gun3_align_x                      "before"
hud_gun3_align_y                      "center"
hud_gun3_order                        "2"
hud_gun3_place                        "gun5"
hud_gun3_scale                        $_fte_weapon_scale
hud_gun4_show                         "0"
hud_gun5_align_x                      "before"
hud_gun5_align_y                      "center"
hud_gun5_order                        "4"
hud_gun5_place                        "gun6"
hud_gun5_scale                        $_fte_weapon_scale
hud_gun6_align_x                      "before"
hud_gun6_align_y                      "center"
hud_gun6_order                        "5"
hud_gun6_place                        "gun7"
hud_gun6_scale                        $_fte_weapon_scale
hud_gun7_align_x                      "center"
hud_gun7_align_y                      "center"
hud_gun7_order                        "6"
hud_gun7_place                        "group3"
hud_gun7_scale                        $_fte_weapon_scale
hud_gun8_align_x                      "after"
hud_gun8_align_y                      "center"
hud_gun8_order                        "7"
hud_gun8_pos_x                        "3"
hud_gun8_scale                        $_fte_weapon_scale
hud_health_align_y                    "bottom"
hud_health_order                      "297"
hud_health_pos_x                      "2"
hud_health_scale                      "1"
hud_iammo1_show                       "0"
hud_iammo2_show                       "0"
hud_iammo3_align_x                    "after"
hud_iammo3_align_y                    "top"
hud_iammo3_place                      "gun8"
hud_iammo3_pos_x                      "8"
hud_iammo3_scale                      "0.33"
hud_iammo3_show                       "1"
hud_iammo3_style                      "0"
hud_iammo4_align_x                    "left"
hud_iammo4_align_y                    "after"
hud_iammo4_place                      "iammo3"
hud_iammo4_pos_y                      "4"
hud_iammo4_scale                      "0.33"
hud_iammo4_show                       "1"
hud_iammo4_style                      "0"
hud_iammo_align_x                     "after"
hud_iammo_order                       "6581"
hud_iammo_place                       "health"
hud_iammo_pos_x                       "16"
hud_iarmor_align_x                    "left"
hud_iarmor_align_y                    "bottom"
hud_iarmor_frame_color                "255 255 255"
hud_iarmor_order                      "294"
hud_iarmor_place                      "group1"
hud_key1_align_x                      "before"
hud_key1_align_y                      "center"
hud_key1_place                        "pent"
hud_key1_pos_y                        "0"
hud_key1_show                         "1"
hud_key2_align_x                      "before"
hud_key2_align_y                      "center"
hud_key2_place                        "key1"
hud_key2_pos_y                        "0"
hud_key2_show                         "1"
hud_ownfrags_show                     "0"
hud_pent_align_x                      "before"
hud_pent_align_y                      "center"
hud_pent_place                        "quad"
hud_quad_align_x                      "center"
hud_quad_align_y                      "center"
hud_quad_place                        "group2"
hud_ring_align_x                      "after"
hud_ring_align_y                      "center"
hud_ring_place                        "quad"
hud_sigil1_align_x                    "after"
hud_sigil1_align_y                    "center"
hud_sigil1_place                      "ring"
hud_sigil1_show                       "1"
hud_sigil2_align_y                    "center"
hud_sigil2_pos_x                      "4"
hud_sigil2_show                       "1"
hud_sigil3_align_y                    "center"
hud_sigil3_pos_x                      "4"
hud_sigil3_show                       "1"
hud_sigil4_align_y                    "center"
hud_sigil4_pos_x                      "4"
hud_sigil4_show                       "1"
hud_suit_order                        "4"
hud_suit_show                         "0"
hud_teamfrags_show                    "0"
hud_tracking_align_x                  "center"
hud_tracking_align_y                  "before"
hud_tracking_format                   "%t %n"
hud_tracking_order                    "1"
hud_tracking_place                    "group3"
hud_tracking_pos_y                    $_fte_nmargin
hud_tracking_scale                    "1.5"
hud_weaponstats_align_x               "center"
hud_weaponstats_align_y               "bottom"
hud_weaponstats_fmt                   "&cff0sg&r:[%sg] &cf33rl&r:[#rl] &c0fflg&r:[%lg]"
hud_weaponstats_item_opacity          "0"
hud_weaponstats_pos_y                 "-36"
hud_weaponstats_scale                 "1"
hud_weaponstats_show                  "0"


// triggers
alias f_demostart "in 1 __loc_dl; in 2 __loc_load"
alias __loc_dl "download https://a.quake.world/maps/${mapname}.loc locs/${mapname}.loc"
alias __loc_load "loadloc ${mapname}.loc"

alias f_startup "toggleconsole"
